- zh_CN [简体中文](README.zh_CN.md)

# 测试原理

简单方便地测量键鼠和手柄的延迟，原理如下：

- **开发板检测**：开发板能够检测引脚接地。地线连接导电铜箔贴在键盘上，用连接另一个引脚的鳄鱼夹敲击该贴纸，开发板就能记录键盘按下的时间。
- **信号转发**：计算机接收到键盘信号后，会将信号转发给开发板。此时，开发板再次记录第二个时间。
- **计算延迟**：两次记录的时间差值即代表了输入设备和电脑的总延迟。通过对比不同电脑在同一手柄下的多次测试结果（如[Sony DualSense Edge | Gamepad Latency Tester](https://gamepadla.com/sony-dualsense-edge.html)上所展示的数据），可以看出电脑这部分的差距很小，测试结果能直接反映输入设备水平。

# 测试方法

1. 准备材料：建议使用具有Type-C接口的国产树莓派Pico开发板、鳄鱼夹带线、导电铜箔贴纸。
2. 操作步骤：
   - 按住开发板上的按钮，同时将其连接至电脑。
   - 电脑会自动识别出一个U盘设备，将提供的UF2固件文件拖拽至该虚拟U盘中以完成程序加载。
   - 烧录固件后，一个鳄鱼夹夹住默认的GP15引脚，再夹住贴在键盘的铜箔贴纸，另一个鳄鱼夹夹住TYPE-C接口的外壳。
   - 根据程序提示进行延迟测试，用活动的鳄鱼夹敲击铜箔及键盘。每次测试引脚接地时开发板上的灯会亮起，当开发板接收到信号时, 灯会再亮一段时间后灭，灯灭后才能进行下次测试操作。
   - 如果想测其它设备，需要关闭程序窗口，将开发板的RUN引脚接地以重置开发板，再打开程序。如果你会使用有自动重置功能的其它芯片的开发板可能不需要这个步骤。
   - 鼠标和手柄同理。

# 进一步测试


- **修改程序目录下的json文件。如果没有，运行程序会产生默认的json文件**
- **接上3.5mm耳机线测音频延迟**

# 我遇到的问题及解决办法
- **问题描述**：没按提示测得太快，程序没反应。
- **解决方法**：重启程序及重置开发板。


- **问题描述**：如果在运行过程中发现程序无法与开发板建立连接，首先应该检查设备管理器中是否有相关设备的显示。
- **解决方法**：
   - 如果设备管理器中未出现开发板，请进入Windows设置检查是否有可用的系统更新。有时，检查更新时可能不会立即显示出更新选项，但稍等片刻后，系统可能会自动下载并安装必要的驱动程序更新。
   - 完成更新后，重新尝试连接开发板。